<div class="card mt-3 shadow-lg rounded">
  <div class="card-header bg-primary text-white text-center">
    <h2 class="mb-0">Fiche Produit</h2>
  </div>
  <div class="card-body">
    <!-- Success Message -->
    <div
      *ngIf="productAdded"
      class="alert alert-success alert-dismissible fade show"
      role="alert"
    >
      <strong>Succès!</strong> Le produit a été ajouté avec succès.
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
        (click)="productAdded = false"
      ></button>
    </div>

    <form #produitForm="ngForm" (ngSubmit)="validerFormulaire(produitForm)">
      <div class="row g-3">
        
        <!-- Code -->
        <div class="col-md-6">
          <label for="code" class="form-label fw-bold">Code:</label>
          <input
            id="code"
            name="code"
            type="text"
            [(ngModel)]="nouveauProduit.code"
            required
            class="form-control"
          />
        </div>

        <!-- Désignation -->
        <div class="col-md-6">
          <label for="designation" class="form-label fw-bold">Désignation:</label>
          <input
            id="designation"
            name="designation"
            type="text"
            [(ngModel)]="nouveauProduit.designation"
            required
            class="form-control"
          />
        </div>

        <!-- Prix -->
        <div class="col-md-6">
          <label for="prix" class="form-label fw-bold">Prix:</label>
          <input
            id="prix"
            name="prix"
            type="number"
            [(ngModel)]="nouveauProduit.prix"
            required
            class="form-control"
          />
        </div>

        <!-- Catégorie -->
        <div class="col-md-12">
          <label for="categorie" class="form-label fw-bold">Catégorie:</label>
          <div class="input-group">
            <select
              id="categorie"
              name="categorie"
              [(ngModel)]="nouveauProduit.categorie"
              required
              class="form-select"
            >
              <option
                *ngFor="let categorie of categories"
                [ngValue]="categorie"
              >
                {{ categorie.libelle }}
              </option>
            </select>
            <span class="input-group-text bg-primary text-white">
              <i class="bi bi-list-task"></i>
            </span>
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="mt-4 text-center">
        <button
          type="submit"
          class="btn btn-success btn-lg px-4"
          [disabled]="!produitForm.form.valid"
        >
          Valider
        </button>
      </div>
    </form>
  </div>
</div>
